<h1 id="收银机">收银机</h1>



<h3 id="需求描述">需求描述</h3>

<p>商店里进行购物结算时会使用收银机系统，这台收银机会在结算时根据客户的购物车中的商品和商店正在进行的优惠活动进行结算和打印购物小票。</p>

<p>已知商品信息包含：名称，数量单位，单价，类别和条形码（伪）。 
已知我们可以对收银机进行设置，使之支持各种优惠。</p>

<p>我们需要实现一个名为打印小票的小模块，收银机会将输入的数据转换成一个JSON数据然后一次性传给我们这个小模块，我们将从控制台中输出结算清单的文本。</p>

<p>输入格式（样例）：</p>



<pre class="prettyprint"><code class=" hljs json">[
    'ITEM000001',
    'ITEM000001',
    'ITEM000001',
    'ITEM000001',
    'ITEM000001',
    'ITEM000003-<span class="hljs-number">2</span>',
    'ITEM000005',
    'ITEM000005',
    'ITEM000005'
]</code></pre>

<p>其中对’ITEM000003-2’来说,”-“之前的是标准的条形码,”-“之后的是数量。 
当我们购买需要称量的物品的时候,由称量的机器生成此类条形码,收银机负责识别生成小票。</p>

<p>该商店正在对部分商品进行“买二赠一”的优惠活动和对部分商品进行95折的优惠活动。其中：</p>

<ul>
<li>“买二赠一”是指，每当买进两个商品，就可以免费再买一个相同商品。</li>
<li>“95折”是指，在计算小计的时候按单价的95%计算每个商品。</li>
<li>每一种优惠都详细标记了哪些条形码对应的商品可以享受此优惠。</li>
<li>店员设置，当“95折”和“买二赠一”发生冲突的时候，也就是一款商品既符合享受“买二赠一”优惠的条件，又符合享受“95折”优惠的条件时，只享受“买二赠一”优惠。</li>
</ul>

<p>要求写代码支持上述的功能，并根据输入和设置的不同，输出下列小票。</p>

<p>小票内容及格式（样例）：</p>

<p>当购买的商品中，有符合“买二赠一”优惠条件的商品时：</p>



<pre class="prettyprint"><code class=" hljs asciidoc">**<span class="hljs-strong">*&lt;没钱赚商店&gt;购物清单*</span>**
名称：可口可乐，数量：3瓶，单价：3.00(元)，小计：6.00(元)
名称：羽毛球，数量：5个，单价：1.00(元)，小计：4.00(元)
<span class="hljs-header">名称：苹果，数量：2斤，单价：5.50(元)，小计：11.00(元)
----------------------</span>
买二赠一商品：
名称：可口可乐，数量：1瓶
<span class="hljs-header">名称：羽毛球，数量：1个
----------------------</span>
总计：21.00(元)
节省：4.00(元)
*********************<span class="hljs-strong">*</span></code></pre>

<p>当购买的商品中，没有符合“买二赠一”优惠条件的商品时：</p>



<pre class="prettyprint"><code class=" hljs asciidoc">**<span class="hljs-strong">*&lt;没钱赚商店&gt;购物清单*</span>**
名称：可口可乐，数量：3瓶，单价：3.00(元)，小计：9.00(元)
名称：羽毛球，数量：5个，单价：1.00(元)，小计：5.00(元)
<span class="hljs-header">名称：苹果，数量：2斤，单价：5.50(元)，小计：11.00(元)
----------------------</span>
总计：25.00(元)
*********************<span class="hljs-strong">*</span></code></pre>

<p>当购买的商品中，有符合“95折”优惠条件的商品时</p>



<pre class="prettyprint"><code class=" hljs asciidoc">**<span class="hljs-strong">*&lt;没钱赚商店&gt;购物清单*</span>**
名称：可口可乐，数量：3瓶，单价：3.00(元)，小计：9.00(元)
名称：羽毛球，数量：5个，单价：1.00(元)，小计：5.00(元)
<span class="hljs-header">名称：苹果，数量：2斤，单价：5.50(元)，小计：10.45(元)，节省0.55(元)
----------------------</span>
总计：24.45(元)
节省：0.55(元)
*********************<span class="hljs-strong">*</span></code></pre>

<p>当购买的商品中，有符合“95折”优惠条件的商品，又有符合“买二赠一”优惠条件的商品时</p>



<pre class="prettyprint"><code class=" hljs asciidoc">**<span class="hljs-strong">*&lt;没钱赚商店&gt;购物清单*</span>**
名称：可口可乐，数量：3瓶，单价：3.00(元)，小计：6.00(元)
名称：羽毛球，数量：6个，单价：1.00(元)，小计：4.00(元)
<span class="hljs-header">名称：苹果，数量：2斤，单价：5.50(元)，小计：10.45(元)，节省0.55(元)
----------------------</span>
买二赠一商品：
名称：可口可乐，数量：1瓶
<span class="hljs-header">名称：羽毛球，数量：2个
----------------------</span>
总计：20.45(元)
节省：5.55(元)
*********************<span class="hljs-strong">*</span></code></pre>



<h3 id="作业要求">作业要求</h3>

<ul>
<li>请根据需求自行设计商品信息和优惠信息的数据结构，并自己准备数据；</li>
<li>请完成全部需求，并输出样例格示的小票；</li>
<li>请在保证代码可读性的前提下，尽可能用最小的圈复杂度完成作业；</li>
</ul>



<h3 id="加分项">加分项</h3>

<ul>
<li>良好的设计</li>
<li>写测试</li>
<li>用git版本管理，并且有良好的提交习惯</li>
</ul>



<h3 id="直接失败的减分项">直接失败的减分项</h3>

<ul>
<li>压缩包打不开</li>
<li>以txt文件，图片，word文档等非代码形式提交作业</li>
<li>只提交了二进制文件，没提交代码，比如exe和class文件</li>
</ul>
